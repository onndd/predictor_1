# ===================================================================
# Merkezi Konfigürasyon Dosyası - JetX Tahmin Sistemi (v2)
# ===================================================================

# -------------------------------------------------------------------
# Veritabanı ve Dosya Yolları
# -------------------------------------------------------------------
paths:
  database: "data/jetx_data.db"
  models_dir: "trained_models"
  log_file: "jetx_prediction.log"
  cache_dir: "data/cache" # Yeni önbellek dizini

# -------------------------------------------------------------------
# Genel Eğitim ve HPO Ayarları
# -------------------------------------------------------------------
training:
  hpo_trials: 15 # Memory optimized: 30 → 15
  default_epochs: 50 # Memory optimized: 75 → 50
  batch_size: 16 # Memory optimized: 32 → 16
  validation_split: 0.15
  min_data_points: 500
  threshold: 1.5
  model_sequence_length: 50 # Memory optimized: 100 → 50
  feature_windows: [50, 100] # Memory optimized: [50, 75, 100, 200, 500] → [50, 100]
  lag_windows: [5, 20] # Memory optimized: [5, 10, 20, 50] → [5, 20]
  lags: [1, 3, 10] # Memory optimized: [1, 2, 3, 5, 10] → [1, 3, 10]

# Memory management and SHAP optimization settings
memory_optimization:
  enable_shap: true
  shap_frequency: 5 # Generate SHAP every 5 cycles instead of every cycle
  shap_background_samples: 3 # Reduced from 50 to 3
  shap_max_features: 10 # Show only top 10 features
  memory_limit_mb: 8000 # 8GB memory limit
  cleanup_frequency: 3 # Cleanup memory every 3 cycles

# ===================================================================
# Model Yapılandırmaları (Merkezileştirilmiş)
# ===================================================================
models:
  N-Beats:
    default_params:
      hidden_size: 512
      num_stacks: 4
      num_blocks: 4
      learning_rate: 0.0005
      crash_weight: 3.0
      train_params:
        epochs: 75
        batch_size: 32
        validation_split: 0.15
        verbose: true
    hpo_space:
      learning_rate: { type: 'float', low: 0.00001, high: 0.01, log: false }
      hidden_size: { type: 'categorical', choices: [128, 256, 512, 1024] }
      num_stacks: { type: 'int', low: 2, high: 6 }
      num_blocks: { type: 'int', low: 2, high: 6 }

  TFT:
    default_params:
      hidden_size: 256
      num_heads: 8
      num_layers: 3
      learning_rate: 0.0005
      crash_weight: 5.0
      train_params:
        epochs: 60
        batch_size: 16
        validation_split: 0.15
        verbose: true
    hpo_space:
      learning_rate: { type: 'float', low: 0.00001, high: 0.01, log: false }
      hidden_size: { type: 'categorical', choices: [64, 128, 256, 512] }
      num_heads: { type: 'categorical', choices: [4, 8, 16] }
      num_layers: { type: 'int', low: 1, high: 4 }

  LSTM:
    default_params:
      hidden_size: 256 # lstm_units'e haritalanır
      num_layers: 3
      learning_rate: 0.0005
      crash_weight: 5.0
      train_params:
        epochs: 80
        batch_size: 32
        validation_split: 0.15
        verbose: true
    hpo_space:
      learning_rate: { type: 'float', low: 0.00001, high: 0.01, log: false }
      hidden_size: { type: 'categorical', choices: [128, 256, 512, 1024] }
      num_layers: { type: 'int', low: 1, high: 5 }

# ===================================================================
# Diğer Ayarlar
# ===================================================================
logging:
  level: 'INFO'
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
